{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mlab/Project/courseProject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mlab/Project/courseProject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{COLLECTION_ADD_ITEM,COLLECTION_REMOVE_ITEM}from\"../Constants/CollectionConstants\";export var addToCollection=function addToCollection(_id,qty){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:8000/api/products/\".concat(_id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:COLLECTION_ADD_ITEM,payload:{product:data._id,title:data.title,image:data.image,text:data.text,price:data.price,countInStock:data.countInStock,qty:qty}});localStorage.setItem(\"collectionItems\",JSON.stringify(getState().collection.collectionItems));case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};//remove products from collection\nexport var removeFromCollection=function removeFromCollection(_id){return function(dispatch,getState){dispatch({type:COLLECTION_REMOVE_ITEM,payload:_id});localStorage.setItem(\"collectionItems\",JSON.stringify(getState().collection.collectionItems));};};","map":{"version":3,"names":["axios","COLLECTION_ADD_ITEM","COLLECTION_REMOVE_ITEM","addToCollection","_id","qty","dispatch","getState","get","data","type","payload","product","title","image","text","price","countInStock","localStorage","setItem","JSON","stringify","collection","collectionItems","removeFromCollection"],"sources":["/Users/mlab/Project/courseProject/client/src/Redux/Actions/CollectionActions.js"],"sourcesContent":["import axios from \"axios\";\nimport { COLLECTION_ADD_ITEM, COLLECTION_REMOVE_ITEM,} from \"../Constants/CollectionConstants\";\n\n\nexport const addToCollection = (_id, qty) => async (dispatch, getState) => {\n  const { data } = await axios.get(`http://localhost:8000/api/products/${_id}`);\n  \n\n  dispatch({\n    type: COLLECTION_ADD_ITEM,\n    payload: {\n      product: data._id,\n      title: data.title,\n      image: data.image,\n      text: data.text,\n      price: data.price,\n      countInStock: data.countInStock,\n      qty,\n    },\n  });\n  localStorage.setItem(\"collectionItems\", JSON.stringify(getState().collection.collectionItems)\n  );\n};\n\n//remove products from collection\nexport  const removeFromCollection = (_id) => (dispatch,getState) =>{\ndispatch({\n  type: COLLECTION_REMOVE_ITEM,\n  payload: _id,\n})\nlocalStorage.setItem(\"collectionItems\", JSON.stringify(getState().collection.collectionItems));\n}\n\n\n\n\n\n\n"],"mappings":"4QAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,mBAAmB,CAAEC,sBAAsB,KAAQ,kCAAkC,CAG9F,MAAO,IAAMC,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,GAAG,CAAEC,GAAG,mGAAK,iBAAOC,QAAQ,CAAEC,QAAQ,oKAC7CP,MAAK,CAACQ,GAAG,8CAAuCJ,GAAG,EAAG,uCAArEK,IAAI,kBAAJA,IAAI,CAGZH,QAAQ,CAAC,CACPI,IAAI,CAAET,mBAAmB,CACzBU,OAAO,CAAE,CACPC,OAAO,CAAEH,IAAI,CAACL,GAAG,CACjBS,KAAK,CAAEJ,IAAI,CAACI,KAAK,CACjBC,KAAK,CAAEL,IAAI,CAACK,KAAK,CACjBC,IAAI,CAAEN,IAAI,CAACM,IAAI,CACfC,KAAK,CAAEP,IAAI,CAACO,KAAK,CACjBC,YAAY,CAAER,IAAI,CAACQ,YAAY,CAC/BZ,GAAG,CAAHA,GACF,CACF,CAAC,CAAC,CACFa,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAEC,IAAI,CAACC,SAAS,CAACd,QAAQ,EAAE,CAACe,UAAU,CAACC,eAAe,CAAC,CAC5F,CAAC,sDACH,qEAED;AACA,MAAQ,IAAMC,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIpB,GAAG,QAAK,UAACE,QAAQ,CAACC,QAAQ,CAAI,CACpED,QAAQ,CAAC,CACPI,IAAI,CAAER,sBAAsB,CAC5BS,OAAO,CAAEP,GACX,CAAC,CAAC,CACFc,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAEC,IAAI,CAACC,SAAS,CAACd,QAAQ,EAAE,CAACe,UAAU,CAACC,eAAe,CAAC,CAAC,CAC9F,CAAC"},"metadata":{},"sourceType":"module"}