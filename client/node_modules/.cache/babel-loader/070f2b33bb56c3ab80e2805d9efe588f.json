{"ast":null,"code":"var _jsxFileName = \"/Users/mlab/Project/courseProject/client/src/pages/Collections.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { Col, Container, Row, Card, Table, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useParams, useLocation, useNavigate } from \"react-router-dom\";\nimport { addToCollection, removeFromCollection } from \"../Redux/Actions/CollectionActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Collections = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    search\n  } = useLocation();\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const productId = id;\n  const qty = search ? Number(search.split(\"=\")[1]) : 1;\n  const collection = useSelector(state => state.collection);\n  const {\n    collectionItems\n  } = collection;\n  const removeFromCollectionHandle = productId => {\n    dispatch(removeFromCollection(productId));\n  };\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCollection(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n  const checkOutHandler = e => {\n    e.preventDefault();\n    // navigate(`/collection-details`)\n    navigate(`/placeorder`);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: [\" Products (\", collectionItems.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this), collectionItems.length === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Your collection is empty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/products`,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  children: \"Create new Collection\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                striped: true,\n                bordered: true,\n                hover: true,\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 58,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Product Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 59,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Qty\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 60,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 61,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Collection image\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 62,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 68,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 69,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 57,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 21\n                }, this), collectionItems.map(item => /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/products/${productId}`,\n                        children: \"Product 1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 77,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"select\", {\n                        value: item.qty,\n                        onChange: e => dispatch(addToCollection(item.product, Number(e.target.value))),\n                        children: [...Array(item.countInStock).keys()].map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: p + 1,\n                          children: p + 1\n                        }, p + 1, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 92,\n                          columnNumber: 33\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 80,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.productId\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [item.price, \"$\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.image\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        onClick: () => removeFromCollectionHandle(item.product),\n                        children: \"Remove\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 103,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 25\n                  }, this)\n                }, item.productId, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this)\n            }, void 0, false), /*#__PURE__*/_jsxDEV(Card.Title, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: checkOutHandler,\n                children: \"Create Collection\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(Collections, \"XgL8i8OV/ODjpr2j7+oxANgPQfw=\", false, function () {\n  return [useDispatch, useLocation, useNavigate, useParams, useSelector];\n});\n_c = Collections;\nexport default Collections;\nvar _c;\n$RefreshReg$(_c, \"Collections\");","map":{"version":3,"names":["useEffect","Col","Container","Row","Card","Table","Button","useDispatch","useSelector","Link","useParams","useLocation","useNavigate","addToCollection","removeFromCollection","Collections","dispatch","search","navigate","id","productId","qty","Number","split","collection","state","collectionItems","removeFromCollectionHandle","checkOutHandler","e","preventDefault","length","map","item","product","target","value","Array","countInStock","keys","p","price","image"],"sources":["/Users/mlab/Project/courseProject/client/src/pages/Collections.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { Col, Container, Row, Card, Table, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useParams, useLocation, useNavigate } from \"react-router-dom\";\n\nimport { addToCollection,removeFromCollection } from \"../Redux/Actions/CollectionActions\";\n\nconst Collections = () => {\n  const dispatch = useDispatch();\n  const { search } = useLocation();\n  const navigate = useNavigate()\n\n  const { id } = useParams();\n  const productId = id;\n\n  const qty = search ? Number(search.split(\"=\")[1]) : 1;\n\n  const collection = useSelector((state) => state.collection);\n  const { collectionItems } = collection;\n\n  const removeFromCollectionHandle = (productId) => {\n    dispatch(removeFromCollection(productId))\n  };\n\n\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCollection(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  const checkOutHandler = (e) => {\n  e.preventDefault()\n  // navigate(`/collection-details`)\n  navigate(`/placeorder`)\n\n  }\n\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <Card>\n            <Card.Body>\n              <Card.Title> Products ({collectionItems.length})</Card.Title>\n              {collectionItems.length === 0 ? (\n                <>\n                  <h1>Your collection is empty</h1>\n                  <Link to={`/products`}>\n                  <Button>Create new Collection</Button>\n                  </Link>\n                </>\n              ) : (\n                <>\n                  <Table striped bordered hover>\n                    <thead>\n                      <tr>\n                        <th>#</th>\n                        <th>Product Name</th>\n                        <th>Qty</th>\n                        <th>Price</th>\n                        <th\n\n                        // dataFormat={imageFormatter}\n                        >\n                          Collection image\n                        </th>\n                        <th>Edit</th>\n                        <th>Remove</th>\n                      </tr>\n                    </thead>\n                    {collectionItems.map((item) => (\n                      <tbody key={item.productId}>\n                        <tr>\n                          <td>1</td>\n                          <td>\n                            <Link to={`/products/${productId}`}>Product 1</Link>\n                          </td>\n                          <td>\n                            <select\n                              value={item.qty}\n                              onChange={(e) =>\n                                dispatch(\n                                  addToCollection(\n                                    item.product,\n                                    Number ( e.target.value)\n                                  )\n                                )\n                              }\n                            >\n                              {[...Array(item.countInStock).keys()].map((p) => (\n                                <option key={p + 1} value={p + 1}>\n                                  {p + 1}\n                                </option>\n                              ))}\n                            </select>\n                          </td>\n                          <td>{item.productId}</td>\n                          <td>{item.price}$</td>\n                          <td>{item.image}</td>\n                          <td>Edit</td>\n                          <td>\n                            <Button\n                              onClick={() => removeFromCollectionHandle(item.product)}\n                            >\n                              Remove\n                            </Button>\n                          </td>\n                        </tr>\n                      </tbody>\n                    ))}\n                  </Table>\n                </>\n              )}\n\n              <Card.Title>\n              \n               <Button onClick={checkOutHandler}>Create Collection</Button>\n              </Card.Title>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Collections;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}