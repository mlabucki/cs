{"ast":null,"code":"import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import Error from\"../components/ui/Error\";import{Button,Form,Card,Row,Col}from\"react-bootstrap\";import{useEffect,useState}from\"react\";import{createOrder}from\"../Redux/Actions/OrderActions\";import{ORDER_CREATE_RESET}from\"../Redux/Constants/OrderConstants\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PlaceOrder=function PlaceOrder(){// const [nameCollection, setNameCollection] = useState(\"\");\n// const [descriptionCollection, setDescriptionCollection] = useState(\"\");\n// const [topicCollection, setTopicCollection] = useState(\"\");\n// const [tagCollection, setTagCollection] = useState(\"\");\nvar dispatch=useDispatch();var navigate=useNavigate();var collection=useSelector(function(state){return state.collection;});var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var orderCreate=useSelector(function(state){return state.orderCreate;});var order=orderCreate.order,success=orderCreate.success,error=orderCreate.error;useEffect(function(){if(success){navigate(\"/orders/\".concat(order._id));dispatch({type:ORDER_CREATE_RESET});}},[dispatch,success,order,navigate]);var placeOrderHandler=function placeOrderHandler(e){e.preventDefault();dispatch(createOrder({orderItems:collection.collectionItems}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[error&&/*#__PURE__*/_jsx(Error,{variant:\"alert-danger\",children:error}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"user\"}),/*#__PURE__*/_jsx(\"p\",{children:userInfo.name}),/*#__PURE__*/_jsx(\"p\",{children:userInfo.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Summary\"}),collection.collectionItems.length===0?/*#__PURE__*/_jsx(Error,{variant:\"alert-info\",children:\"Collection is empty\"}):/*#__PURE__*/_jsx(_Fragment,{children:collection.collectionItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item.product),children:item.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity: \",item.qty]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",item.price]})]},item._id);})}),collection.collectionItems.length===0?null:/*#__PURE__*/_jsx(Button,{onClick:placeOrderHandler,children:\"Create Collection\"}),/*#__PURE__*/_jsx(Button,{children:\"Back to Collection\"}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Button,{children:\"Create New Collection\"}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Create New Collection Form\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Collection Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",required:true,id:\"title\",placeholder:\"Collection name\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Collection Tag\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"url\",required:true,id:\"tag\",placeholder:\"Select Tag\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Collection topic\"}),/*#__PURE__*/_jsx(Form.Control,{rows:3,type:\"text\",required:true,id:\"text\",placeholder:\"Collection Topic\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Create Collection\"})]})]})]})})]})]});};export default PlaceOrder;","map":{"version":3,"names":["useDispatch","useSelector","Link","Error","Button","Form","Card","Row","Col","useEffect","useState","createOrder","ORDER_CREATE_RESET","useNavigate","PlaceOrder","dispatch","navigate","collection","state","userLogin","userInfo","orderCreate","order","success","error","_id","type","placeOrderHandler","e","preventDefault","orderItems","collectionItems","name","email","length","map","item","product","title","qty","price"],"sources":["/Users/mlab/Project/courseProject/client/src/pages/PlaceOrder.js"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Error from \"../components/ui/Error\";\nimport { Button,Form,Card,Row,Col } from \"react-bootstrap\";\nimport { useEffect, useState } from \"react\";\nimport { createOrder } from \"../Redux/Actions/OrderActions\";\nimport {  ORDER_CREATE_RESET } from \"../Redux/Constants/OrderConstants\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst PlaceOrder = () => {\n  // const [nameCollection, setNameCollection] = useState(\"\");\n  // const [descriptionCollection, setDescriptionCollection] = useState(\"\");\n  // const [topicCollection, setTopicCollection] = useState(\"\");\n  // const [tagCollection, setTagCollection] = useState(\"\");\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate()\n\n  const collection = useSelector((state) => state.collection);\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const orderCreate = useSelector((state)=> state.orderCreate)\n  const {order, success, error} = orderCreate\n\n  useEffect(()=>{\n    if(success){\n      navigate(`/orders/${order._id}`)\n      dispatch({type:ORDER_CREATE_RESET})\n    }\n  },[dispatch, success, order, navigate])\n\n  const placeOrderHandler = (e) => {\n    e.preventDefault();\n    dispatch(\n      createOrder({\n          orderItems: collection.collectionItems, \n      })\n      )\n  };\n\n\n  return (\n    <>\n    {error && <Error variant=\"alert-danger\">{error}</Error>}\n      <div>\n        <h2>user</h2>\n        <p>{userInfo.name}</p>\n        <p>{userInfo.email}</p>\n      </div>\n      <div>\n        <h2>Summary</h2>\n        {collection.collectionItems.length === 0 ? (\n          <Error variant=\"alert-info\">Collection is empty</Error>\n        ) : (\n          <>\n            {collection.collectionItems.map((item) => (\n              <div key={item._id}>\n                <Link to={`/products/${item.product}`}>{item.title}</Link>\n                <p>Quantity: {item.qty}</p>\n                <p>Price: {item.price}</p>\n              </div>\n            ))}\n          </>\n        )}\n       \n\n        {collection.collectionItems.length === 0 ? null : (\n          <Button onClick={placeOrderHandler}>Create Collection</Button>\n        )}\n        <Button>Back to Collection</Button>\n        <Row>\n        <Col>\n          <Button>Create New Collection</Button>\n          <Card>\n            <Card.Title>Create New Collection Form</Card.Title>\n            <Form>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Collection Name</Form.Label>\n\n                <Form.Control\n                  type=\"text\"\n                  required\n                  id=\"title\"\n                  placeholder=\"Collection name\"\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Collection Tag</Form.Label>\n                <Form.Control\n                  type=\"url\"\n                  required\n                  id=\"tag\"\n                  placeholder=\"Select Tag\"\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Collection topic</Form.Label>\n                <Form.Control\n                  rows={3}\n                  type=\"text\"\n                  required\n                  id=\"text\"\n                  placeholder=\"Collection Topic\"\n                />\n              </Form.Group>\n              <Button type=\"submit\">Create Collection</Button>\n            </Form>\n          </Card>\n        </Col>\n      </Row>\n      </div>\n    </>\n  );\n};\n\nexport default PlaceOrder;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}