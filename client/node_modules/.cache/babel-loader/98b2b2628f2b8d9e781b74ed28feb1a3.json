{"ast":null,"code":"import _slicedToArray from\"/Users/mlab/Project/courseProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{Button,Form}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{updateUserProfile,userDetails}from\"../Redux/Actions/UserActions\";import Error from\"../components/ui/Error\";import Spiner from\"../components/ui/Spiner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserProfileUpdate=function UserProfileUpdate(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var dispatch=useDispatch();var userDetails=useSelector(function(state){return state.userDetails;});var loading=userDetails.loading,error=userDetails.error,user=userDetails.user;var userUpdateProfile=useSelector(function(state){return state.userUpdateProfile;});var updatedLoading=userUpdateProfile.loading;useEffect(function(){if(user){setName(user.name);setEmail(user.email);}},[dispatch,user,loading]);var submitHandler=function submitHandler(e){e.preventDefault();if(password!==confirmPassword){alert(\"password doesn't match\");}else{dispatch(updateUserProfile({_id:user._id,name:name,email:email,password:password}));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[error&&/*#__PURE__*/_jsx(Error,{variant:\"alert-danger\",children:error}),loading&&/*#__PURE__*/_jsx(Spiner,{}),updatedLoading&&/*#__PURE__*/_jsx(Spiner,{}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"User name: \",user.name]}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",required:true,id:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",required:true,id:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",id:\"password\",required:true,value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",id:\"confirmPassword\",required:true,value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Confirm Changes\"})]})]})]});};export default UserProfileUpdate;","map":{"version":3,"names":["useState","useEffect","Button","Form","useDispatch","useSelector","updateUserProfile","userDetails","Error","Spiner","UserProfileUpdate","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","dispatch","state","loading","error","user","userUpdateProfile","updatedLoading","submitHandler","e","preventDefault","alert","_id","target","value"],"sources":["/Users/mlab/Project/courseProject/client/src/pages/UserProfileUpdate.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateUserProfile, userDetails } from \"../Redux/Actions/UserActions\";\nimport Error from \"../components/ui/Error\";\nimport Spiner from \"../components/ui/Spiner\";\n\nconst UserProfileUpdate = () => {\n \n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const dispatch = useDispatch();\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { loading, error, user } = userDetails;\n\n  const userUpdateProfile = useSelector((state) => state.userUpdateProfile);\n  const { loading: updatedLoading } = userUpdateProfile;\n\n  useEffect(() => {\n    if (user) {\n      setName(user.name);\n      setEmail(user.email);\n    }\n  }, [dispatch, user, loading]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      alert(\"password doesn't match\");\n    } else {\n      dispatch(updateUserProfile({ _id: user._id, name, email, password }));\n    }\n  };\n  return (\n    <>\n      {error && <Error variant={\"alert-danger\"}>{error}</Error>}\n      {loading && <Spiner />}\n      {updatedLoading && <Spiner />}\n\n      <h1>User name: {user.name}</h1>\n      <Form onSubmit={submitHandler}>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Username </Form.Label>\n          <Form.Control\n            type=\"text\"\n            required\n            id=\"name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            type=\"email\"\n            required\n            id=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            id=\"password\"\n            required\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Confirm Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            id=\"confirmPassword\"\n            required\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          />\n          <Button type=\"submit\">Confirm Changes</Button>\n        </Form.Group>\n      </Form>\n    </>\n  );\n};\n\nexport default UserProfileUpdate;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}