{"ast":null,"code":"import _toConsumableArray from\"/Users/mlab/Project/courseProject/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/mlab/Project/courseProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{listProductDetail}from\"../Redux/Actions/ProductActions\";import{useNavigate}from\"react-router-dom\";import Spiner from\"../components/ui/Spiner\";import Error from\"../components/ui/Error\";import Comments from\"../components/comments/Comments\";import{Col,Card,Container,Row,Button}from\"react-bootstrap\";import classes from\"./ProductDetails.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductDetails=function ProductDetails(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var _useParams=useParams(),_id=_useParams._id;var dispatch=useDispatch();var navigate=useNavigate();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(listProductDetail(_id));},[_id,dispatch]);var AddToCollectionHandle=function AddToCollectionHandle(e){e.preventDefault();navigate(\"/collection/\".concat(_id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{children:loading?/*#__PURE__*/_jsx(Spiner,{}):error?/*#__PURE__*/_jsx(Error,{variant:\"alert-danger\",children:error}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xl:6,className:classes.productcolumn,children:/*#__PURE__*/_jsx(Card,{className:\"productlist\",children:/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:product.image})},product._id)}),/*#__PURE__*/_jsx(Col,{xl:6,className:classes.productcolumn,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:product.title}),/*#__PURE__*/_jsx(Card.Text,{children:product.text}),/*#__PURE__*/_jsxs(Card.Text,{children:[product.price,\" $\"]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Status:\",product.countInStock>0?\" Hurry Up! Thee are fiew models in stock!\":\" Don't miss next time. The product is sold out\"]}),product.countInStock>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card.Text,{children:[\"Quantity : \",product.countInStock,/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(p){return/*#__PURE__*/_jsx(\"option\",{value:p+1,children:p+1},p+1);})})]}),/*#__PURE__*/_jsx(Button,{onClick:AddToCollectionHandle,children:\"Add to Collection\"})]}):null]}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:\"Comments:\"}),/*#__PURE__*/_jsx(Comments// text={product.reviews}\n,{text:\"Great model for the beginners\",valueL:1,valueD:2}),/*#__PURE__*/_jsx(Card.Text,{children:product.reviews})]})]})})]})})})});};export default ProductDetails;","map":{"version":3,"names":["useEffect","useState","useParams","useDispatch","useSelector","listProductDetail","useNavigate","Spiner","Error","Comments","Col","Card","Container","Row","Button","classes","ProductDetails","qty","setQty","_id","dispatch","navigate","productDetails","state","loading","error","product","AddToCollectionHandle","e","preventDefault","productcolumn","image","title","text","price","countInStock","target","value","Array","keys","map","p","reviews"],"sources":["/Users/mlab/Project/courseProject/client/src/pages/ProductDetails.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listProductDetail } from \"../Redux/Actions/ProductActions\";\nimport { useNavigate } from \"react-router-dom\";\nimport Spiner from \"../components/ui/Spiner\";\nimport Error from \"../components/ui/Error\";\nimport Comments from \"../components/comments/Comments\";\n\nimport { Col, Card, Container, Row, Button } from \"react-bootstrap\";\nimport classes from \"./ProductDetails.module.css\";\n\nconst ProductDetails = () => {\n  const [qty, setQty] = useState(1);\n  const { _id } = useParams();\n  \n  \n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n\n  const productDetails = useSelector((state) => state.productDetails);\n  const { loading, error, product } = productDetails;\n\n  useEffect(() => {\n    dispatch(listProductDetail(_id));\n  }, [_id, dispatch]);\n\n  const AddToCollectionHandle = (e) => {\n    e.preventDefault();\n\n    navigate(`/collection/${_id}?qty=${qty}`);\n  };\n\n  return (\n    <>\n      <Container>\n        {loading ? (\n          <Spiner />\n        ) : error ? (\n          <Error variant=\"alert-danger\">{error}</Error>\n        ) : (\n          <>\n            <Row>\n              <Col xl={6} className={classes.productcolumn}>\n                <Card key={product._id} className=\"productlist\">\n                  <Card.Img variant=\"top\" src={product.image} />\n                </Card>\n              </Col>\n              <Col xl={6} className={classes.productcolumn}>\n                <Card>\n                  <Card.Body>\n                    <Card.Title>{product.title}</Card.Title>\n                    <Card.Text>{product.text}</Card.Text>\n                    <Card.Text>{product.price} $</Card.Text>\n                    <Card.Text>\n                      Status:\n                      {product.countInStock > 0\n                        ? \" Hurry Up! Thee are fiew models in stock!\"\n                        : ` Don't miss next time. The product is sold out`}\n                    </Card.Text>\n\n                    {product.countInStock > 0 ? (\n                      <>\n                        <Card.Text>\n                          Quantity : {product.countInStock}\n                          <select value={qty}\n                          onChange={(e)=>setQty(e.target.value)}\n                          >\n                            {[...Array(product.countInStock).keys()].map(\n                              (p) => (\n                                <option key={p + 1} value={p + 1}>\n                                  {p + 1}\n                                </option>\n                              )\n                            )}\n                          </select>\n                        </Card.Text>\n                        <Button onClick={AddToCollectionHandle}>\n                          Add to Collection\n                        </Button>\n                      </>\n                    ) : null}\n                  </Card.Body>\n                  <Card.Body>\n                    <Card.Title>Comments:</Card.Title>\n\n                    <Comments\n                      // text={product.reviews}\n                      text=\"Great model for the beginners\"\n                      valueL={1}\n                      valueD={2}\n                    />\n\n                    <Card.Text>{product.reviews}</Card.Text>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n          </>\n        )}\n      </Container>\n    </>\n  );\n};\n\nexport default ProductDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}