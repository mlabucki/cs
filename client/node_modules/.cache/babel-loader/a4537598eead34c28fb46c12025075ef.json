{"ast":null,"code":"import{useEffect}from\"react\";import{Row,Col,Card,Button,Table}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useNavigate,useParams}from\"react-router-dom\";import Error from\"../components/ui/Error\";import Spiner from\"../components/ui/Spiner\";import{getOrderDetails}from\"../Redux/Actions/OrderActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Order=function Order(){var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;var orderId=id;var navigate=useNavigate();var orderDetails=useSelector(function(state){return state.orderDetails;});var order=orderDetails.order,loading=orderDetails.loading,error=orderDetails.error;useEffect(function(){dispatch(getOrderDetails(orderId));},[dispatch,orderId]);var collectionHandler=function collectionHandler(){navigate(\"/placeorder\");};return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(Spiner,{}):error?/*#__PURE__*/_jsx(Error,{variant:\"alert-danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tabelka z danymi\"}),/*#__PURE__*/_jsx(\"p\",{children:order.user.name}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xl:6,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[\"Collection of user:\",/*#__PURE__*/_jsx(Link,{to:\"/userpage\",children:order.user.name})]}),order.orderItems.length===0?/*#__PURE__*/_jsx(Error,{variant:\"alert-info\",children:\"Your order is empty\"}):/*#__PURE__*/_jsx(_Fragment,{children:order.orderItems.map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price $\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Collection image\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"1\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item.product),children:item.title})}),/*#__PURE__*/_jsx(\"td\",{children:item.qty}),/*#__PURE__*/_jsx(\"td\",{children:item.price}),/*#__PURE__*/_jsx(\"td\",{children:item.image})]})},index),\"))\"]})});})})]}),/*#__PURE__*/_jsx(Card.Footer,{children:/*#__PURE__*/_jsx(Button,{onClick:collectionHandler,children:\"Create New\"})})]})})})]})});};export default Order;","map":{"version":3,"names":["useEffect","Row","Col","Card","Button","Table","useDispatch","useSelector","Link","useNavigate","useParams","Error","Spiner","getOrderDetails","Order","dispatch","id","orderId","navigate","orderDetails","state","order","loading","error","collectionHandler","user","name","orderItems","length","map","item","index","product","title","qty","price","image"],"sources":["/Users/mlab/Project/courseProject/client/src/pages/Order.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport {Row, Col, Card, Button,Table } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport Error from \"../components/ui/Error\";\nimport Spiner from \"../components/ui/Spiner\";\nimport { getOrderDetails } from \"../Redux/Actions/OrderActions\";\nconst Order = () => {\n    const dispatch = useDispatch()\n    const { id } = useParams();\n    const orderId = id;\n    const navigate = useNavigate()\n\n    \n    const orderDetails = useSelector((state) => state.orderDetails);\n    const { order, loading, error } = orderDetails;\n\n    useEffect(()=>{\n        \n        dispatch(getOrderDetails(orderId))\n        \n    },[dispatch,orderId])\n\n    const collectionHandler = () => {\n        navigate(\"/placeorder\")\n    }\n\n    return (\n        <>\n        \n        {\n            loading ? ( <Spiner/>) : error ? \n            (<Error variant=\"alert-danger\">{error}</Error> ) :\n            (\n                <>\n                <h1>Tabelka z danymi</h1>\n                <p>{order.user.name}</p>\n\n                <Row>\n              <Col xl={6} >\n                <Card>\n                  <Card.Body>\n                    <Card.Title>Collection of user: \n                        <Link to={`/userpage`}>\n                        {order.user.name}\n                        </Link>\n                        </Card.Title>\n                   {\n                    order.orderItems.length === 0 ? (\n                        <Error variant=\"alert-info\">Your order is empty</Error>\n                    ):(\n                        <>\n                        {\n                            order.orderItems.map((item,index)=>(\n                                <>\n                                 <Table striped bordered hover>\n                    <thead>\n                      <tr>\n                        <th>#</th>\n                        <th>Product Name</th>\n                        <th>Qty</th>\n                        <th>Price $</th>\n                        <th>Collection image</th>\n                      </tr>\n                    </thead>\n                    <tbody key={index}>\n                        <tr>\n                          <td>1</td>\n                          <td>\n                            <Link to={`/products/${item.product}`}>\n                                {item.title}\n                            </Link>\n                          </td> \n                      \n                          <td>{item.qty}</td>\n                          <td>{item.price}</td>\n                          <td>{item.image}</td>\n                        \n                        </tr>\n                      </tbody>\n                    ))\n                  </Table>\n                                </>\n                            ))\n                        }\n                        </>\n                    )\n                   }\n                  \n                  </Card.Body>\n                  <Card.Footer>\n                    <Button onClick={collectionHandler}>Create New</Button>\n                  </Card.Footer>\n                </Card>\n              </Col>\n            </Row>\n\n\n\n\n                </>\n            )\n        }\n         \n    \n  \n        </>\n     );\n}\n \nexport default Order;"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAAQC,GAAG,CAAEC,GAAG,CAAEC,IAAI,CAAEC,MAAM,CAACC,KAAK,KAAQ,iBAAiB,CAC7D,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,IAAI,CAAEC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CAC/D,MAAOC,MAAK,KAAM,wBAAwB,CAC1C,MAAOC,OAAM,KAAM,yBAAyB,CAC5C,OAASC,eAAe,KAAQ,+BAA+B,CAAC,6IAChE,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAChB,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAC9B,eAAeI,SAAS,EAAE,CAAlBM,EAAE,YAAFA,EAAE,CACV,GAAMC,QAAO,CAAGD,EAAE,CAClB,GAAME,SAAQ,CAAGT,WAAW,EAAE,CAG9B,GAAMU,aAAY,CAAGZ,WAAW,CAAC,SAACa,KAAK,QAAKA,MAAK,CAACD,YAAY,GAAC,CAC/D,GAAQE,MAAK,CAAqBF,YAAY,CAAtCE,KAAK,CAAEC,OAAO,CAAYH,YAAY,CAA/BG,OAAO,CAAEC,KAAK,CAAKJ,YAAY,CAAtBI,KAAK,CAE7BvB,SAAS,CAAC,UAAI,CAEVe,QAAQ,CAACF,eAAe,CAACI,OAAO,CAAC,CAAC,CAEtC,CAAC,CAAC,CAACF,QAAQ,CAACE,OAAO,CAAC,CAAC,CAErB,GAAMO,kBAAiB,CAAG,QAApBA,kBAAiB,EAAS,CAC5BN,QAAQ,CAAC,aAAa,CAAC,CAC3B,CAAC,CAED,mBACI,yBAGII,OAAO,cAAK,KAAC,MAAM,IAAE,CAAIC,KAAK,cAC7B,KAAC,KAAK,EAAC,OAAO,CAAC,cAAc,UAAEA,KAAK,EAAS,cAE1C,wCACA,wCAAyB,cACzB,mBAAIF,KAAK,CAACI,IAAI,CAACC,IAAI,EAAK,cAExB,KAAC,GAAG,wBACN,KAAC,GAAG,EAAC,EAAE,CAAE,CAAE,uBACT,MAAC,IAAI,yBACH,MAAC,IAAI,CAAC,IAAI,yBACR,MAAC,IAAI,CAAC,KAAK,+CACP,KAAC,IAAI,EAAC,EAAE,YAAc,UACrBL,KAAK,CAACI,IAAI,CAACC,IAAI,EACT,GACM,CAEjBL,KAAK,CAACM,UAAU,CAACC,MAAM,GAAK,CAAC,cACzB,KAAC,KAAK,EAAC,OAAO,CAAC,YAAY,iCAA4B,cAEvD,yBAEIP,KAAK,CAACM,UAAU,CAACE,GAAG,CAAC,SAACC,IAAI,CAACC,KAAK,qBAC5B,sCACC,MAAC,KAAK,EAAC,OAAO,MAAC,QAAQ,MAAC,KAAK,6BAC1C,oCACE,mCACE,yBAAU,cACV,oCAAqB,cACrB,2BAAY,cACZ,+BAAgB,cAChB,wCAAyB,GACtB,EACC,cACR,oCACI,mCACE,yBAAU,cACV,iCACE,KAAC,IAAI,EAAC,EAAE,qBAAeD,IAAI,CAACE,OAAO,CAAG,UACjCF,IAAI,CAACG,KAAK,EACR,EACJ,cAEL,oBAAKH,IAAI,CAACI,GAAG,EAAM,cACnB,oBAAKJ,IAAI,CAACK,KAAK,EAAM,cACrB,oBAAKL,IAAI,CAACM,KAAK,EAAM,GAElB,EAbGL,KAAK,CAcP,QAEJ,EACS,EACN,CAAC,EAGT,GAGS,cACZ,KAAC,IAAI,CAAC,MAAM,wBACV,KAAC,MAAM,EAAC,OAAO,CAAEP,iBAAkB,wBAAoB,EAC3C,GACT,EACH,EACF,GAML,EAKF,CAEX,CAAC,CAED,cAAeV,MAAK"},"metadata":{},"sourceType":"module"}