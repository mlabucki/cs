{"ast":null,"code":"var _jsxFileName = \"/Users/mlab/Project/CourseProject/client/src/pages/Collections.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { Col, Container, Row, Card, Table, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useParams, useLocation } from \"react-router-dom\";\nimport { addToCart } from \"../Redux/Actions/CollectionActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Collection = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    search\n  } = useLocation();\n  const _id = useParams();\n  const qty = search ? Number(search.split(\"=\")[1]) : 1;\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart;\n  useEffect(() => {\n    if (_id) {\n      dispatch(addToCart(_id, qty));\n    }\n  }, [dispatch, _id, qty]);\n\n  // function imageFormatter(cell, row){\n  //   return \"<img src='\"+cell+\"'/>\" ;\n  // }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: [\" Products (\", cartItems.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 15\n            }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Your collection is empty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                children: \"Create new Collection\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                striped: true,\n                bordered: true,\n                hover: true,\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"#\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 44,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Product Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 45,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Qty\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 46,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 47,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Collection image\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 48,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 54,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 55,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 43,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 42,\n                  columnNumber: 21\n                }, this), cartItems.map(item => /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 61,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/products/${_id}`,\n                        children: \"Product 1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 63,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 62,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"select\", {\n                        value: item.qty,\n                        onChange: e => dispatch(addToCart(item.product, Number * e.target.value)),\n                        children: [...Array(item.countInStock).keys()].map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: p + 1,\n                          children: p + 1\n                        }, p + 1, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 74,\n                          columnNumber: 37\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 66,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 65,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item._id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [item.price, \"$\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.image\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 83,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 84,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 60,\n                    columnNumber: 25\n                  }, this)\n                }, item._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 19\n              }, this)\n            }, void 0, false), /*#__PURE__*/_jsxDEV(Card.Title, {\n              children: [\" \", \"Total:\", /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"300$\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s(Collection, \"KgtpN1jckKySSqO1kAfLzrMufSE=\", false, function () {\n  return [useDispatch, useLocation, useParams, useSelector];\n});\n_c = Collection;\nexport default Collection;\nvar _c;\n$RefreshReg$(_c, \"Collection\");","map":{"version":3,"names":["useEffect","Col","Container","Row","Card","Table","Button","useDispatch","useSelector","Link","useParams","useLocation","addToCart","Collection","dispatch","search","_id","qty","Number","split","cart","state","cartItems","length","map","item","e","product","target","value","Array","countInStock","keys","p","price","image"],"sources":["/Users/mlab/Project/CourseProject/client/src/pages/Collections.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { Col, Container, Row, Card, Table, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useParams, useLocation } from \"react-router-dom\";\n\nimport { addToCart } from \"../Redux/Actions/CollectionActions\";\n\nconst Collection = () => {\n  const dispatch = useDispatch();\n  const { search } = useLocation();\n  const _id = useParams();\n  const qty = search ? Number(search.split(\"=\")[1]) : 1;\n\n  const cart = useSelector((state) => state.cart);\n  const { cartItems } = cart;\n\n  useEffect(() => {\n    if (_id) {\n      dispatch(addToCart(_id, qty));\n    }\n  }, [dispatch, _id, qty]);\n\n  // function imageFormatter(cell, row){\n  //   return \"<img src='\"+cell+\"'/>\" ;\n  // }\n\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <Card>\n            <Card.Body>\n              <Card.Title> Products ({cartItems.length})</Card.Title>\n              {cartItems.length === 0 ? (\n                <>\n                  <h1>Your collection is empty</h1>\n                  <Button>Create new Collection</Button>\n                </>\n              ) : (\n                <>\n                  <Table striped bordered hover>\n                    <thead>\n                      <tr>\n                        <th>#</th>\n                        <th>Product Name</th>\n                        <th>Qty</th>\n                        <th>Price</th>\n                        <th\n\n                        // dataFormat={imageFormatter}\n                        >\n                          Collection image\n                        </th>\n                        <th>Edit</th>\n                        <th>Remove</th>\n                      </tr>\n                    </thead>\n                    {cartItems.map((item) => (\n                      <tbody key={item._id}>\n                        <tr>\n                          <td>1</td>\n                          <td>\n                            <Link to={`/products/${_id}`}>Product 1</Link>\n                          </td>\n                          <td>\n                              <select\n                                value={item.qty}\n                                onChange={(e) => \n                                  dispatch(addToCart(item.product, Number*e.target.value))\n                                }\n                              >\n                                {[...Array(item.countInStock).keys()].map(\n                                  (p) => (\n                                    <option key={p + 1} value={p + 1}>\n                                      {p + 1}\n                                    </option>\n                                  )\n                                )}\n                              </select>\n                          </td>\n                          <td>{item._id}</td>\n                          <td>{item.price}$</td>\n                          <td>{item.image}</td>\n                          <td>Edit</td>\n                          <td>Remove</td>\n                        </tr>\n                      </tbody>\n                    ))}\n                  </Table>\n                </>\n              )}\n\n              <Card.Title>\n                {\" \"}\n                Total:\n                <Card.Text>300$</Card.Text>\n              </Card.Title>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Collection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}